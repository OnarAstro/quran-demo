<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ù…Ù†ØµØ© Ø±ÙˆØ­Ø§Ù†ÙŠØ©</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Amiri+Quran&family=Cairo:wght@300;400;600;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: "Cairo", sans-serif;
        background: linear-gradient(
          135deg,
          #e8f5e9 0%,
          #e0f2f1 50%,
          #f3e5f5 100%
        );
        min-height: 100vh;
        overflow-x: hidden;
        transition: all 0.5s ease;
      }
      body.dark-mode {
        background: linear-gradient(
          135deg,
          #0a1929 0%,
          #001e3c 50%,
          #1a237e 100%
        );
      }

      /* 3D Canvas - More Visible */
      #canvas3d {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        opacity: 0.6;
      }
      body.dark-mode #canvas3d {
        opacity: 0.8;
      }

      .container {
        position: relative;
        z-index: 10;
        max-width: 1600px;
        margin: 0 auto;
        padding: 40px 10rem;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px 10px;
        }
      }

      .theme-toggle {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        width: 70px;
        height: 70px;
        background: linear-gradient(135deg, #4db6ac, #00897b);
        border: 3px solid #ffd54f;
        border-radius: 50%;
        cursor: pointer;
        font-size: 2em;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.4s ease;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      }
      .theme-toggle:hover {
        transform: scale(1.15) rotate(180deg);
        box-shadow: 0 12px 35px rgba(255, 213, 79, 0.5);
      }

      .header {
        text-align: center;
        padding: 80px 20px;
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(20px);
        border-radius: 30px;
        margin-bottom: 50px;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
        animation: fadeInDown 1s ease;
        border: 2px solid rgba(77, 182, 172, 0.3);
      }
      body.dark-mode .header {
        background: rgba(20, 30, 60, 0.85);
        border-color: rgba(255, 213, 79, 0.3);
      }

      .header h1 {
        font-family: "Amiri Quran", serif;
        font-size: 4em;
        background: linear-gradient(135deg, #00695c, #4db6ac, #00695c);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 20px;
        filter: drop-shadow(0 2px 8px rgba(0, 105, 92, 0.3));
      }
      body.dark-mode .header h1 {
        background: linear-gradient(135deg, #ffd54f, #ffb74d, #ffd54f);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      body.dark-mode .header p {
        color: #e0f2f1;
      }

      .nav-tabs {
        display: flex;
        gap: 15px;
        background: rgba(255, 255, 255, 0.9);
        padding: 25px;
        border-radius: 25px;
        margin-bottom: 40px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        flex-wrap: wrap;
        justify-content: center;
        position: sticky;
        top: 10px;
        z-index: 100;
        backdrop-filter: blur(15px);
        border: 2px solid rgba(77, 182, 172, 0.2);
      }
      body.dark-mode .nav-tabs {
        background: rgba(20, 30, 60, 0.9);
        border-color: rgba(255, 213, 79, 0.2);
      }

      .nav-tab {
        padding: 18px 35px;
        font-size: 1.2em;
        font-weight: 700;
        background: linear-gradient(135deg, #b2dfdb, #80cbc4);
        border: none;
        border-radius: 15px;
        color: #004d40;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }
      body.dark-mode .nav-tab {
        background: linear-gradient(135deg, #00695c, #004d40);
        color: white;
      }
      .nav-tab:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 8px 25px rgba(77, 182, 172, 0.3);
      }
      .nav-tab.active {
        background: linear-gradient(135deg, #ffd54f, #ffb74d);
        color: #004d40;
        box-shadow: 0 0 30px rgba(255, 213, 79, 0.6);
        transform: scale(1.1);
      }

      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
        animation: fadeIn 0.6s ease;
      }

      .section {
        margin-bottom: 50px;
        opacity: 0;
        transform: translateY(60px);
        transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
      }
      .section.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .section-title {
        font-family: "Amiri Quran", serif;
        font-size: 2.8em;
        color: #00695c;
        margin-bottom: 30px;
        text-align: center;
        position: relative;
        padding-bottom: 15px;
      }
      body.dark-mode .section-title {
        color: #ffd54f;
      }
      .section-title::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 120px;
        height: 4px;
        background: linear-gradient(90deg, transparent, #4db6ac, transparent);
        border-radius: 2px;
      }

      .card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(15px);
        padding: 40px;
        border-radius: 25px;
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
        margin-bottom: 25px;
        transition: all 0.4s ease;
        border: 2px solid rgba(77, 182, 172, 0.2);
      }
      @media (max-width: 768px) {
        .card {
          padding: 10px;
        }
      }
      body.dark-mode .card {
        background: rgba(20, 30, 60, 0.9);
        border-color: rgba(255, 213, 79, 0.2);
        color: white;
      }
      .card:hover {
        transform: translateY(-8px) scale(1.01);
        box-shadow: 0 18px 45px rgba(0, 0, 0, 0.18);
      }

      /* Reciter Card with Image */
      .reciter-display {
        display: flex;
        align-items: center;
        gap: 30px;
        background: linear-gradient(
          135deg,
          rgba(77, 182, 172, 0.1),
          rgba(0, 137, 123, 0.1)
        );
        padding: 30px;
        border-radius: 20px;
        margin-bottom: 30px;
        border: 2px solid rgba(77, 182, 172, 0.3);
      }
      body.dark-mode .reciter-display {
        background: linear-gradient(
          135deg,
          rgba(255, 213, 79, 0.1),
          rgba(255, 183, 77, 0.1)
        );
        border-color: rgba(255, 213, 79, 0.3);
      }

      .reciter-img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4db6ac, #00897b);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4em;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        border: 4px solid #ffd54f;
        flex-shrink: 0;
      }

      .reciter-info h3 {
        font-size: 2em;
        color: #00695c;
        margin-bottom: 10px;
        font-family: "Amiri Quran", serif;
      }
      body.dark-mode .reciter-info h3 {
        color: #ffd54f;
      }

      .reciter-info p {
        font-size: 1.2em;
        line-height: 1.8;
        opacity: 0.9;
      }

      body.dark-mode .reciter-info p {
        color: #e0f2f1;
      }

      /* Surah Info Display */
      .surah-display {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.5),
          rgba(255, 255, 255, 0.3)
        );
        padding: 35px;
        border-radius: 20px;
        margin-bottom: 25px;
        border-right: 6px solid #4db6ac;
      }
      body.dark-mode .surah-display {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.04)
        );
        border-right-color: #ffd54f;
      }

      .surah-name {
        font-family: "Amiri Quran", serif;
        font-size: 3em;
        color: #00695c;
        margin-bottom: 15px;
      }
      body.dark-mode .surah-name {
        color: #ffd54f;
      }

      .surah-meta {
        display: flex;
        gap: 30px;
        flex-wrap: wrap;
        font-size: 1.2em;
        margin: 15px 0;
      }

      .surah-desc {
        font-size: 1.3em;
        line-height: 2;
        margin-top: 20px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.4);
        border-radius: 12px;
      }
      body.dark-mode .surah-desc {
        background: rgba(255, 255, 255, 0.05);
      }

      .grid-2 {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 25px;
      }

      select,
      input {
        width: 100%;
        padding: 18px;
        font-size: 1.2em;
        font-family: "Cairo", sans-serif;
        background: white;
        border: 3px solid #4db6ac;
        border-radius: 15px;
        color: #37474f;
        transition: all 0.3s ease;
        margin-bottom: 20px;
      }

      @media (max-width: 768px) {
        select,
        input {
          font-size: 16px;
          padding: 12px;
          max-width: 85%;
        }
      }

      body.dark-mode select,
      body.dark-mode input {
        background: #0a1929;
        color: #eceff1;
        border-color: #ffd54f;
      }
      select:focus,
      input:focus {
        outline: none;
        border-color: #00897b;
        box-shadow: 0 0 20px rgba(77, 182, 172, 0.4);
        transform: scale(1.02);
      }

      .btn {
        padding: 18px 45px;
        font-size: 1.3em;
        font-weight: 700;
        background: linear-gradient(135deg, #4db6ac, #00897b);
        border: none;
        border-radius: 60px;
        color: white;
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        margin: 8px;
      }
      .btn:hover {
        transform: scale(1.1) translateY(-3px);
        box-shadow: 0 10px 30px rgba(77, 182, 172, 0.4);
      }
      .btn:active {
        transform: scale(1.05);
      }

      /* Quran Reader */
      .quran-reader {
        max-height: 700px;
        overflow-y: auto;
        padding: 2px;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 20px;
      }
      body.dark-mode .quran-reader {
        background: rgba(255, 255, 255, 0.03);
      }

      .quran-reader::-webkit-scrollbar {
        width: 12px;
      }
      .quran-reader::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.1);
        border-radius: 10px;
      }
      .quran-reader::-webkit-scrollbar-thumb {
        background: #4db6ac;
        border-radius: 10px;
      }

      .ayahs-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: start !important;
      }

      @media (max-width: 768px) {
        .ayahs-container {
          gap: 0px;
        }
      }

      /* .bismillah {
        text-align: center !important;
        font-size: 1.6rem !important;
        margin-bottom: 25px !important;
        color: #00695c !important;
      } */

      .ayah {
        font-family: "Amiri Quran", serif;
        font-size: 2em;
        line-height: 2.8;
        text-align: justify;
        color: #004d40;
        margin: 15px 0;
        padding: 10px;
        background: rgba(255, 255, 255, 0.6);
        border-radius: 18px;
        transition: all 0.3s ease;
      }
      @media (max-width: 768px) {
        .ayah {
          font-size: 16px;
          margin: 0;
          padding: 0px;
        }
      }
      body.dark-mode .ayah {
        background: rgba(255, 255, 255, 0.06);
        color: #e0f2f1;
        border-right-color: #ffd54f;
      }
      .ayah:hover {
        transform: translateX(-10px);
        box-shadow: 0 4px 20px rgba(77, 182, 172, 0.2);
      }

      .ayah-number {
        display: inline-block;
        background: #4db6ac;
        color: white;
        padding: 8px 20px;
        border-radius: 50px;
        font-size: 0.5em;
        margin: 0 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
      @media (max-width: 768px) {
        .ayah-number {
          font-size: 8px;
          padding: 4px 8px;
        }
      }

      body.dark-mode .ayah-number {
        background: #ffd54f;
        color: #004d40;
      }

      /* Prayer Times */
      .prayer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
      }
      .prayer-card {
        background: linear-gradient(135deg, #b2dfdb, #80cbc4);
        padding: 35px;
        border-radius: 18px;
        text-align: center;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
        transition: all 0.4s ease;
      }
      body.dark-mode .prayer-card {
        background: linear-gradient(135deg, #00695c, #004d40);
      }
      .prayer-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }
      .prayer-icon {
        font-size: 3.5em;
        margin-bottom: 15px;
      }
      .prayer-name {
        font-size: 1.6em;
        font-weight: 700;
        color: #004d40;
        margin-bottom: 12px;
      }
      body.dark-mode .prayer-name {
        color: #ffd54f;
      }
      .prayer-time {
        font-size: 2.5em;
        font-weight: 700;
        color: #00695c;
      }
      body.dark-mode .prayer-time {
        color: white;
      }

      /* Adhkar */
      .adhkar-card {
        background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
        padding: 30px;
        border-radius: 18px;
        margin-bottom: 20px;
        text-align: center;
        transition: all 0.3s ease;
      }
      body.dark-mode .adhkar-card {
        background: linear-gradient(135deg, #2e7d32, #1b5e20);
      }
      .adhkar-card:hover {
        transform: scale(1.02);
      }
      .adhkar-text {
        font-family: "Amiri Quran", serif;
        font-size: 1.8em;
        margin-bottom: 20px;
        color: #1b5e20;
        line-height: 2.2;
      }
      body.dark-mode .adhkar-text {
        color: #c8e6c9;
      }

      /* Settings */
      .color-option {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.4s ease;
        border: 4px solid transparent;
      }
      .color-option:hover {
        transform: scale(1.15) rotate(10deg);
      }
      .color-option.selected {
        border-color: #ffd54f;
        box-shadow: 0 0 30px rgba(255, 213, 79, 0.7);
      }

      .loading {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 2000;
        background: rgba(255, 255, 255, 0.95);
        padding: 50px;
        border-radius: 25px;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
      }
      body.dark-mode .loading {
        background: rgba(20, 30, 60, 0.95);
      }
      .loading.show {
        display: block;
      }
      .spinner {
        width: 70px;
        height: 70px;
        border: 6px solid rgba(77, 182, 172, 0.2);
        border-top: 6px solid #4db6ac;
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
        margin: 0 auto 20px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2.2em;
        }
        .section-title {
          font-size: 1.8em;
        }
        .nav-tabs {
          position: relative;
          top: 0;
          padding: 15px;
        }
        .nav-tab {
          font-size: 1em;
          padding: 12px 20px;
        }
        .reciter-display {
          flex-direction: column;
          text-align: center;
        }
        .reciter-img {
          width: 120px;
          height: 120px;
          font-size: 3em;
        }
      }
    </style>
  </head>
  <body>
    <canvas id="canvas3d"></canvas>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>

    <div class="container">
      <div class="header">
        <h1>Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù</h1>
        <p style="font-size: 1.4em; margin-top: 15px">
          Ù…Ù†ØµØ© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ø§Ø³ØªÙ…Ø¹ ÙˆØªØ¯Ø¨Ø± ÙˆØ§Ù‚Ø±Ø£
        </p>
      </div>

      <div class="nav-tabs">
        <button class="nav-tab active" onclick="switchTab('listen')">
          ğŸµ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹
        </button>
        <button class="nav-tab" onclick="switchTab('read')">ğŸ“– Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</button>
        <button class="nav-tab" onclick="switchTab('adhkar')">
          ğŸ”” Ø§Ù„Ø£Ø°ÙƒØ§Ø±
        </button>
        <button class="nav-tab" onclick="switchTab('settings')">
          ğŸ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        </button>
        <button class="nav-tab" onclick="switchTab('prayer')">ğŸ•Œ Ø§Ù„ØµÙ„Ø§Ø©</button>
      </div>

      <!-- Listen Tab -->
      <div id="listen" class="tab-content active">
        <div class="section visible">
          <h2 class="section-title">ğŸµ Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2>

          <!-- Current Reciter Display -->
          <div class="reciter-display" id="reciterDisplay">
            <div class="reciter-img">ğŸ™</div>
            <div class="reciter-info">
              <h3 id="reciterName">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù…ÙØ¶Ù„</h3>
              <p id="reciterDesc">ØµÙˆØª ÙŠØ±ÙŠØ­ Ø§Ù„Ù‚Ù„Ø¨ ÙˆÙŠØ·Ù…Ø¦Ù† Ø§Ù„Ù†ÙØ³</p>
            </div>
          </div>

          <!-- Current Surah Info -->
          <div class="surah-display" id="surahDisplay" style="display: none">
            <div class="surah-name" id="surahName"></div>
            <div class="surah-meta">
              <span id="surahType"></span>
              <span id="surahAyahs"></span>
              <span id="surahOrder"></span>
            </div>
            <div class="surah-desc" id="surahDesc"></div>
          </div>

          <div class="card">
            <div class="grid-2">
              <div>
                <label
                  style="
                    display: block;
                    margin-bottom: 12px;
                    font-weight: 700;
                    font-size: 1.2em;
                  "
                  >Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø§Ø±Ø¦</label
                >
                <select
                  id="reciterSelect"
                  onchange="updateReciterDisplay()"
                ></select>
              </div>
              <div>
                <label
                  style="
                    display: block;
                    margin-bottom: 12px;
                    font-weight: 700;
                    font-size: 1.2em;
                  "
                  >Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©</label
                >
                <select
                  id="surahSelect"
                  onchange="updateSurahDisplay()"
                ></select>
              </div>
            </div>
            <div style="text-align: center; margin-top: 25px">
              <button class="btn" onclick="playQuran()">â–¶</button>
              <button class="btn" onclick="playRadio()">ğŸ“»</button>
            </div>
            <div
              style="
                font-family: &quot;Amiri Quran&quot;, serif;
                font-size: 2.2em;
                color: #00695c;
                margin: 30px 0;
                text-align: center;
              "
              id="nowPlaying"
            >
              Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© ÙˆØ§Ù„Ù‚Ø§Ø±Ø¦ Ù„Ù„Ø¨Ø¯Ø¡
            </div>
            <audio
              id="audioPlayer"
              controls
              style="width: 100%; margin: 20px 0; border-radius: 50px"
            ></audio>
          </div>
        </div>
      </div>

      <!-- Read Tab -->
      <div id="read" class="tab-content">
        <div class="section">
          <h2 class="section-title">ğŸ“– Ø§Ù‚Ø±Ø£ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2>
          <div class="card">
            <select id="readSurahSelect" onchange="loadSurahText()">
              <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©</option>
            </select>
            <div class="quran-reader" id="quranReader">
              <p
                style="
                  text-align: center;
                  font-size: 1.5em;
                  color: #999;
                  padding: 80px 20px;
                "
              >
                Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©<br />
                <span style="font-size: 3em; margin-top: 20px; display: block"
                  >ğŸ“–</span
                >
              </p>
              <div id="ayahsContainer"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Adhkar Tab -->
      <div id="adhkar" class="tab-content">
        <div class="section">
          <h2 class="section-title">ğŸ”” Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ©</h2>
          <div class="card">
            <h3 style="font-size: 2em; margin-bottom: 25px; text-align: center">
              ğŸŒ… Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­
            </h3>
            <div class="adhkar-card">
              <div class="adhkar-text">
                Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø±ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù
              </div>
              <button
                class="btn"
                style="padding: 12px 30px; font-size: 1.1em"
                onclick="countAdhkar(this)"
              >
                ØªØ³Ø¨ÙŠØ­ <span class="count">0/3</span>
              </button>
            </div>
            <div class="adhkar-card">
              <div class="adhkar-text">
                Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ¨ÙÙƒÙ Ù†ÙØ­Ù’ÙŠÙØ§
                ÙˆÙØ¨ÙÙƒÙ Ù†ÙÙ…ÙÙˆØªÙ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù
              </div>
              <button
                class="btn"
                style="padding: 12px 30px; font-size: 1.1em"
                onclick="countAdhkar(this)"
              >
                ØªØ³Ø¨ÙŠØ­ <span class="count">0/3</span>
              </button>
            </div>
            <h3 style="font-size: 2em; margin: 40px 0 25px; text-align: center">
              ğŸŒ™ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡
            </h3>
            <div class="adhkar-card">
              <div class="adhkar-text">
                Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø±ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù
              </div>
              <button
                class="btn"
                style="padding: 12px 30px; font-size: 1.1em"
                onclick="countAdhkar(this)"
              >
                ØªØ³Ø¨ÙŠØ­ <span class="count">0/3</span>
              </button>
            </div>
            <div class="adhkar-card">
              <div class="adhkar-text">
                Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø£ÙÙ†Ù’ØªÙ Ø±ÙØ¨ÙÙ‘ÙŠ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø£ÙÙ†Ù’ØªÙ Ø®ÙÙ„ÙÙ‚Ù’ØªÙÙ†ÙÙŠ
                ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙØ¨Ù’Ø¯ÙÙƒÙ
              </div>
              <button
                class="btn"
                style="padding: 12px 30px; font-size: 1.1em"
                onclick="countAdhkar(this)"
              >
                ØªØ³Ø¨ÙŠØ­ <span class="count">0/3</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Tab -->
      <div id="settings" class="tab-content">
        <div class="section">
          <h2 class="section-title">ğŸ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„ØªØ®ØµÙŠØµ</h2>
          <div class="card">
            <h3 style="font-size: 1.8em; margin-bottom: 25px">
              ğŸ¨ Ø§Ø®ØªØ± Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹
            </h3>
            <div
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 20px;
                margin-bottom: 40px;
              "
            >
              <div
                class="color-option selected"
                style="background: linear-gradient(135deg, #4db6ac, #00897b)"
                onclick="changeTheme(this, 'teal')"
              ></div>
              <div
                class="color-option"
                style="background: linear-gradient(135deg, #9575cd, #7e57c2)"
                onclick="changeTheme(this, 'purple')"
              ></div>
              <div
                class="color-option"
                style="background: linear-gradient(135deg, #4fc3f7, #0288d1)"
                onclick="changeTheme(this, 'blue')"
              ></div>
              <div
                class="color-option"
                style="background: linear-gradient(135deg, #81c784, #4caf50)"
                onclick="changeTheme(this, 'green')"
              ></div>
              <div
                class="color-option"
                style="background: linear-gradient(135deg, #ff8a65, #ff5722)"
                onclick="changeTheme(this, 'orange')"
              ></div>
            </div>
            <h3 style="font-size: 1.8em; margin-bottom: 20px">ğŸ“ Ø­Ø¬Ù… Ø§Ù„Ø®Ø·</h3>
            <select id="fontSize" onchange="changeFontSize()">
              <option value="1em">ØµØºÙŠØ±</option>
              <option value="1.2em" selected>Ù…ØªÙˆØ³Ø·</option>
              <option value="1.5em">ÙƒØ¨ÙŠØ±</option>
              <option value="2em">ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Prayer Tab -->
      <div id="prayer" class="tab-content">
        <div class="section">
          <h2 class="section-title">ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</h2>
          <div class="card">
            <div style="text-align: center; margin-bottom: 35px">
              <input
                type="text"
                id="cityInput"
                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ù…Ø¯ÙŠÙ†ØªÙƒ"
                style="
                  max-width: 450px;
                  display: inline-block;
                  margin-left: 15px;
                "
              />
              <button class="btn" onclick="getPrayerTimes()">ğŸ” Ø¨Ø­Ø«</button>
            </div>
            <div class="prayer-grid" id="prayerTimes">
              <p
                style="
                  text-align: center;
                  font-size: 1.4em;
                  color: #999;
                  grid-column: 1/-1;
                  padding: 60px 20px;
                "
              >
                Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ù…Ø¯ÙŠÙ†ØªÙƒ Ù„Ø¹Ø±Ø¶ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©<br />
                <span style="font-size: 3em; margin-top: 20px; display: block"
                  >ğŸ•Œ</span
                >
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="loading">
      <div class="spinner"></div>
      <div style="font-size: 1.4em; color: #00695c; font-weight: 700">
        Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      // Enhanced 3D Background
      const canvas = document.getElementById("canvas3d");
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000,
      );
      const renderer = new THREE.WebGLRenderer({
        canvas,
        alpha: true,
        antialias: true,
      });
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.position.z = 35;

      const geometries = [];

      // Islamic Star Pattern
      const starGeo = new THREE.IcosahedronGeometry(4, 0);
      const starMat = new THREE.MeshBasicMaterial({
        color: 0xffd54f,
        wireframe: true,
        transparent: true,
        opacity: 0.4,
      });
      const star1 = new THREE.Mesh(starGeo, starMat);
      star1.position.set(-20, 10, -15);
      scene.add(star1);
      geometries.push(star1);

      // Crescent Moon Shape
      const torusGeo = new THREE.TorusGeometry(5, 1.5, 16, 100);
      const torusMat = new THREE.MeshBasicMaterial({
        color: 0x4db6ac,
        wireframe: true,
        transparent: true,
        opacity: 0.35,
      });
      const torus = new THREE.Mesh(torusGeo, torusMat);
      torus.position.set(20, -10, -20);
      scene.add(torus);
      geometries.push(torus);

      // Octahedron
      const octaGeo = new THREE.OctahedronGeometry(3, 0);
      const octaMat = new THREE.MeshBasicMaterial({
        color: 0x00897b,
        wireframe: true,
        transparent: true,
        opacity: 0.3,
      });
      const octa = new THREE.Mesh(octaGeo, octaMat);
      octa.position.set(0, 15, -25);
      scene.add(octa);
      geometries.push(octa);

      // Dodecahedron
      const dodecaGeo = new THREE.DodecahedronGeometry(3, 0);
      const dodecaMat = new THREE.MeshBasicMaterial({
        color: 0xffd54f,
        wireframe: true,
        transparent: true,
        opacity: 0.25,
      });
      const dodeca = new THREE.Mesh(dodecaGeo, dodecaMat);
      dodeca.position.set(-15, -15, -18);
      scene.add(dodeca);
      geometries.push(dodeca);

      // Enhanced Particles
      const particlesGeo = new THREE.BufferGeometry();
      const particlesCount = 3000;
      const posArray = new Float32Array(particlesCount * 3);
      for (let i = 0; i < particlesCount * 3; i++) {
        posArray[i] = (Math.random() - 0.5) * 150;
      }
      particlesGeo.setAttribute(
        "position",
        new THREE.BufferAttribute(posArray, 3),
      );
      const particlesMat = new THREE.PointsMaterial({
        size: 0.15,
        color: 0xffd54f,
        transparent: true,
        opacity: 0.6,
      });
      const particles = new THREE.Points(particlesGeo, particlesMat);
      scene.add(particles);

      let scrollY = 0;
      window.addEventListener("scroll", () => {
        scrollY = window.scrollY;
      });

      function animate() {
        requestAnimationFrame(animate);
        geometries.forEach((geo, i) => {
          geo.rotation.x += 0.001 * (i + 1);
          geo.rotation.y += 0.002 * (i + 1);
          geo.rotation.z += 0.0015 * (i + 1);
          geo.position.y += Math.sin(Date.now() * 0.001 + i) * 0.01;
        });
        particles.rotation.y += 0.0005;
        particles.rotation.x += 0.0003;
        camera.position.y = -(scrollY * 0.015);
        camera.rotation.z = Math.sin(Date.now() * 0.0002) * 0.02;
        renderer.render(scene, camera);
      }
      animate();

      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("visible");
            }
          });
        },
        { threshold: 0.1 },
      );
      document.querySelectorAll(".section").forEach((section) => {
        observer.observe(section);
      });

      // Reciters with descriptions
      const reciters = [
        {
          id: "afs",
          name: "Ù…Ø´Ø§Ø±ÙŠ Ø¨Ù† Ø±Ø§Ø´Ø¯ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ",
          server: "https://server8.mp3quran.net/afs/",
          desc: "Ù‚Ø§Ø±Ø¦ ÙƒÙˆÙŠØªÙŠ Ù…Ø¨Ø¯Ø¹ØŒ ØµÙˆØªÙ‡ Ø§Ù„Ù†Ø¯ÙŠ ÙŠØ£Ø³Ø± Ø§Ù„Ù‚Ù„ÙˆØ¨ ÙˆÙŠØ±ÙŠØ­ Ø§Ù„Ù†ÙÙˆØ³",
        },
        {
          id: "husary",
          name: "Ù…Ø­Ù…ÙˆØ¯ Ø®Ù„ÙŠÙ„ Ø§Ù„Ø­ØµØ±ÙŠ",
          server: "https://server13.mp3quran.net/husr/",
          desc: "Ø´ÙŠØ® Ø§Ù„Ù…Ù‚Ø±Ø¦ÙŠÙ†ØŒ ØµØ§Ø­Ø¨ Ø§Ù„ØªÙ„Ø§ÙˆØ© Ø§Ù„Ù…Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„ØµÙˆØª Ø§Ù„Ø®Ø§Ø´Ø¹",
        },
        {
          id: "minsh",
          name: "Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ",
          server: "https://server10.mp3quran.net/minsh/",
          desc: "ØµÙˆØª Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø¥Ù…Ø§Ù… Ø§Ù„Ù…Ù‚Ø§Ù…Ø§Øª ÙˆØ§Ù„ØªØ·Ø±ÙŠØ¨ Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ",
        },
        {
          id: "ghamadi",
          name: "Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ",
          server: "https://server7.mp3quran.net/s_gmd/",
          desc: "ØµÙˆØª Ø±ÙˆØ­Ø§Ù†ÙŠ Ù…Ù…ÙŠØ² ÙŠØ¨ÙƒÙŠ Ø§Ù„Ù‚Ù„ÙˆØ¨ ÙˆÙŠÙ„ÙŠÙ† Ø§Ù„Ø£ÙØ¦Ø¯Ø©",
        },
        {
          id: "sudais",
          name: "Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³",
          server: "https://server11.mp3quran.net/sds/",
          desc: "Ø¥Ù…Ø§Ù… Ø§Ù„Ø­Ø±Ù… Ø§Ù„Ù…ÙƒÙŠØŒ ØµÙˆØª ÙŠØ¨ÙƒÙŠ Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø¨Ø®Ø´ÙˆØ¹Ù‡",
        },
        {
          id: "shuraim",
          name: "Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø´Ø±ÙŠÙ…",
          server: "https://server6.mp3quran.net/shur/",
          desc: "Ø¥Ù…Ø§Ù… Ø§Ù„Ø­Ø±Ù… Ø§Ù„Ù…ÙƒÙŠØŒ ØªÙ„Ø§ÙˆØ© Ù…Ø¤Ø«Ø±Ø© ØªÙ‡Ø² Ø§Ù„ÙˆØ¬Ø¯Ø§Ù†",
        },
        {
          id: "abdulbasit",
          name: "Ø¹Ø¨Ø¯ Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯ Ø§Ù„ØµÙ…Ø¯",
          server: "https://server7.mp3quran.net/basit/",
          desc: "Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„ØªÙ„Ø§ÙˆØ© ÙˆØµÙˆØª Ø§Ù„Ù‚Ø±Ù† Ø§Ù„Ø¹Ø´Ø±ÙŠÙ†",
        },
        {
          id: "ajmy",
          name: "Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¬Ù…ÙŠ",
          server: "https://server10.mp3quran.net/ajm/",
          desc: "ØµÙˆØª Ø´Ø¬ÙŠ Ø®Ø§Ø´Ø¹ ÙŠØ·Ù…Ø¦Ù† Ø§Ù„Ù‚Ù„ÙˆØ¨",
        },
        {
          id: "maher",
          name: "Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ",
          server: "https://server12.mp3quran.net/maher/",
          desc: "ØµÙˆØªÙ‡ Ø§Ù„Ù†Ø¯ÙŠ ÙŠØ£Ø³Ø± Ø§Ù„Ù‚Ù„ÙˆØ¨ ÙˆÙŠØ±ÙŠØ­ Ø§Ù„Ù†ÙÙˆØ³",
        },
      ];

      const surahsInfo = [
        {
          num: 1,
          name: "Ø§Ù„ÙØ§ØªØ­Ø©",
          type: "Ù…ÙƒÙŠØ©",
          ayahs: 7,
          order: 5,
          desc: "Ø£Ù… Ø§Ù„ÙƒØªØ§Ø¨ ÙˆØ§Ù„Ø³Ø¨Ø¹ Ø§Ù„Ù…Ø«Ø§Ù†ÙŠØŒ Ø£Ø¹Ø¸Ù… Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…",
        },
        {
          num: 2,
          name: "Ø§Ù„Ø¨Ù‚Ø±Ø©",
          type: "Ù…Ø¯Ù†ÙŠØ©",
          ayahs: 286,
          order: 87,
          desc: "Ø£Ø·ÙˆÙ„ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ ÙÙŠÙ‡Ø§ Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ Ø³ÙŠØ¯Ø© Ø¢ÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†",
        },
        {
          num: 3,
          name: "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†",
          type: "Ù…Ø¯Ù†ÙŠØ©",
          ayahs: 200,
          order: 89,
          desc: "Ø³ÙˆØ±Ø© Ø¹Ø¸ÙŠÙ…Ø© ØªØªØ­Ø¯Ø« Ø¹Ù† Ø§Ù„Ø«Ø¨Ø§Øª ÙˆØ§Ù„ØµØ¨Ø± ÙˆØ§Ù„Ø¬Ù‡Ø§Ø¯",
        },
        {
          num: 18,
          name: "Ø§Ù„ÙƒÙ‡Ù",
          type: "Ù…ÙƒÙŠØ©",
          ayahs: 110,
          order: 69,
          desc: "ØªÙ‚Ø±Ø£ ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ù†ÙˆØ±Ø§Ù‹ØŒ ÙÙŠÙ‡Ø§ Ù‚ØµØµ Ø¹Ø¸ÙŠÙ…Ø© ÙˆØ¹Ø¨Ø±",
        },
        {
          num: 36,
          name: "ÙŠØ³",
          type: "Ù…ÙƒÙŠØ©",
          ayahs: 83,
          order: 41,
          desc: "Ù‚Ù„Ø¨ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ Ù„Ù‡Ø§ ÙØ¶Ù„ Ø¹Ø¸ÙŠÙ… ÙÙŠ ØªÙŠØ³ÙŠØ± Ø§Ù„Ø£Ù…ÙˆØ±",
        },
        {
          num: 55,
          name: "Ø§Ù„Ø±Ø­Ù…Ù†",
          type: "Ù…Ø¯Ù†ÙŠØ©",
          ayahs: 78,
          order: 97,
          desc: "Ø¹Ø±ÙˆØ³ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ ØªØªØ­Ø¯Ø« Ø¹Ù† Ù†Ø¹Ù… Ø§Ù„Ù„Ù‡ ÙˆØ¢Ù„Ø§Ø¦Ù‡",
        },
        {
          num: 67,
          name: "Ø§Ù„Ù…Ù„Ùƒ",
          type: "Ù…ÙƒÙŠØ©",
          ayahs: 30,
          order: 77,
          desc: "Ø§Ù„Ù…Ù†Ø¬ÙŠØ© Ù…Ù† Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø±ØŒ Ø§Ù„ÙˆØ§Ù‚ÙŠØ© Ø§Ù„Ù…Ø§Ù†Ø¹Ø©",
        },
      ];

      let surahs = [];

      function loadReciters() {
        const select = document.getElementById("reciterSelect");
        select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù…ÙØ¶Ù„</option>';
        reciters.forEach((r) => {
          const opt = document.createElement("option");
          opt.value = r.id;
          opt.textContent = r.name;
          select.appendChild(opt);
        });
      }

      async function loadSurahs() {
        try {
          const res = await fetch("https://api.alquran.cloud/v1/surah");
          const data = await res.json();
          surahs = data.data;
          const audioSelect = document.getElementById("surahSelect");
          const readSelect = document.getElementById("readSurahSelect");
          audioSelect.innerHTML =
            '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ÙƒØ±ÙŠÙ…Ø©</option>';
          readSelect.innerHTML =
            '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©</option>';
          surahs.forEach((s) => {
            const opt1 = document.createElement("option");
            opt1.value = s.number;
            opt1.textContent = `${s.number}. ${s.name}`;
            audioSelect.appendChild(opt1);
            const opt2 = document.createElement("option");
            opt2.value = s.number;
            opt2.textContent = `${s.number}. ${s.name}`;
            readSelect.appendChild(opt2);
          });
        } catch (err) {
          console.error(err);
        }
      }

      function updateReciterDisplay() {
        const reciterId = document.getElementById("reciterSelect").value;
        if (!reciterId) return;
        const reciter = reciters.find((r) => r.id === reciterId);
        document.getElementById("reciterName").textContent = reciter.name;
        document.getElementById("reciterDesc").textContent = reciter.desc;
      }

      function updateSurahDisplay() {
        const surahNum = document.getElementById("surahSelect").value;
        if (!surahNum) return;
        const surah = surahs.find((s) => s.number == surahNum);
        const info = surahsInfo.find((s) => s.num == surahNum);
        const display = document.getElementById("surahDisplay");
        display.style.display = "block";
        document.getElementById("surahName").textContent = surah.name;
        if (info) {
          document.getElementById("surahType").textContent = `ğŸ“ ${info.type}`;
          document.getElementById("surahAyahs").textContent =
            `ğŸ“ ${info.ayahs} Ø¢ÙŠØ©`;
          document.getElementById("surahOrder").textContent =
            `ğŸ”¢ ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†Ø²ÙˆÙ„: ${info.order}`;
          document.getElementById("surahDesc").textContent = info.desc;
        } else {
          document.getElementById("surahType").textContent =
            `ğŸ“ ${surah.revelationType === "Meccan" ? "Ù…ÙƒÙŠØ©" : "Ù…Ø¯Ù†ÙŠØ©"}`;
          document.getElementById("surahAyahs").textContent =
            `ğŸ“ ${surah.numberOfAyahs} Ø¢ÙŠØ©`;
          document.getElementById("surahOrder").textContent = "";
          document.getElementById("surahDesc").textContent =
            `Ø³ÙˆØ±Ø© ${surah.name} Ù…Ù† Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ø¹Ø¸ÙŠÙ…Ø© ÙÙŠ ÙƒØªØ§Ø¨ Ø§Ù„Ù„Ù‡`;
        }
      }

      async function playQuran() {
        const reciterId = document.getElementById("reciterSelect").value;
        const surahNum = document.getElementById("surahSelect").value;
        if (!reciterId || !surahNum) {
          alert("Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø§Ø±Ø¦ ÙˆØ§Ù„Ø³ÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹");
          return;
        }
        document.querySelector(".loading").classList.add("show");
        try {
          const reciter = reciters.find((r) => r.id === reciterId);
          const surahPad = String(surahNum).padStart(3, "0");
          const url = `${reciter.server}${surahPad}.mp3`;
          const audio = document.getElementById("audioPlayer");
          audio.src = url;
          await audio.play();
          const surah = surahs.find((s) => s.number == surahNum);
          document.getElementById("nowPlaying").textContent =
            `${surah.name} - ${reciter.name}`;
          document.querySelector(".loading").classList.remove("show");
        } catch (err) {
          console.error(err);
          alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„");
          document.querySelector(".loading").classList.remove("show");
        }
      }

      async function playRadio() {
        const audio = document.getElementById("audioPlayer");
        audio.src =
          "https://n0d.radiojar.com/8s5u5tpdtwzuv?rj-ttl=5&rj-tok=AAABhI_cXHQAu-Yvf8cBDWKpqA";
        await audio.play();
        document.getElementById("nowPlaying").textContent =
          "Ø±Ø§Ø¯ÙŠÙˆ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±";
      }

      // async function loadSurahText(){
      //     const surahNum=document.getElementById('readSurahSelect').value;
      //     if(!surahNum)return;
      //     document.querySelector('.loading').classList.add('show');
      //     try{
      //         const res=await fetch(`https://api.alquran.cloud/v1/surah/${surahNum}`);
      //         const data=await res.json();
      //         const reader=document.getElementById('quranReader');
      //         reader.innerHTML='';
      //         const surahHeader=document.createElement('div');
      //         surahHeader.style.cssText='text-align:center;margin-bottom:40px;padding:30px;background:linear-gradient(135deg,rgba(77,182,172,0.2),rgba(0,137,123,0.2));border-radius:20px;';
      //         surahHeader.innerHTML=`
      //             <h2 style="font-family:'Amiri Quran',serif;color:#00695c;margin-bottom:15px;">${data.data.name}</h2>
      //             <p style="font-size:1.3em;opacity:0.9;">${data.data.revelationType==='Meccan'?'Ù…ÙƒÙŠØ©':'Ù…Ø¯Ù†ÙŠØ©'} â€¢ ${data.data.numberOfAyahs} Ø¢ÙŠØ©</p>
      //         `;
      //         reader.appendChild(surahHeader);
      //         if(surahNum!=1&&surahNum!=9){
      //             const bismillah=document.createElement('div');
      //             bismillah.className='ayah';
      //             bismillah.style.cssText='text-align:center;';
      //             bismillah.textContent='Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù';
      //             reader.appendChild(bismillah);
      //         }

      //         data.data.ayahs.forEach(ayah=>{

      //             const div=document.createElement('div');
      //             div.className='ayah';
      //             // Ù‡Ù†Ø®Ø§Ù„ÙŠ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø§ÙŠØ§Øª Ø¨Ø¹Ø¯ Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…
      //             if(ayah.numberInSurah>1) div.innerHTML=`${ayah.text} <span class="ayah-number">${ayah.numberInSurah - 1} </span>`;
      //             reader.appendChild(div);
      //         });
      //         document.querySelector('.loading').classList.remove('show');
      //     }catch(err){
      //         console.error(err);
      //         document.querySelector('.loading').classList.remove('show');
      //     }
      // }

      async function loadSurahText() {
        const surahNum = document.getElementById("readSurahSelect").value;
        if (!surahNum) return;

        document.querySelector(".loading").classList.add("show");

        try {
          const res = await fetch(
            `https://api.alquran.cloud/v1/surah/${surahNum}`,
          );
          const data = await res.json();

          const reader = document.getElementById("quranReader");
          reader.innerHTML = "";

          // Header Ø§Ù„Ø³ÙˆØ±Ø©
          const surahHeader = document.createElement("div");
          surahHeader.style.cssText =
            "text-align:center;margin-bottom:40px;padding:30px;background:linear-gradient(135deg,rgba(77,182,172,0.2),rgba(0,137,123,0.2));border-radius:20px;";
          surahHeader.innerHTML = `
            <h2 style="font-family:'Amiri Quran',serif;color:#00695c;margin-bottom:15px;">
                ${data.data.name}
            </h2>
            <p style="font-size:1.3em;opacity:0.9;">
                ${data.data.revelationType === "Meccan" ? "Ù…ÙƒÙŠØ©" : "Ù…Ø¯Ù†ÙŠØ©"} â€¢ ${data.data.numberOfAyahs} Ø¢ÙŠØ©
            </p>
        `;
          reader.appendChild(surahHeader);

          // ğŸ‘ˆ container Ù„ÙƒÙ„ Ø§Ù„Ø¢ÙŠØ§Øª
          const ayahsContainer = document.createElement("div");
          ayahsContainer.className = "ayahs-container";

          //   // Ø§Ù„Ø¨Ø³Ù…Ù„Ø©
          //   if (surahNum != 1 && surahNum != 9) {
          //     const bismillah = document.createElement("div");
          //     bismillah.className = "ayah";
          //     bismillah.style.textAlign = "center";
          //     bismillah.textContent = "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù";
          //     ayahsContainer.appendChild(bismillah);
          //   }

          // Ø§Ù„Ø¢ÙŠØ§Øª
          data.data.ayahs.forEach((ayah) => {
            const div = document.createElement("div");
            div.className = "ayah";
            div.innerHTML = `
                    ${ayah.text}
                    <span class="ayah-number">${ayah.numberInSurah}</span>
                `;
            ayahsContainer.appendChild(div);
          });

          // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„ Ø§Ù„Ø¢ÙŠØ§Øª Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
          reader.appendChild(ayahsContainer);

          document.querySelector(".loading").classList.remove("show");
        } catch (err) {
          console.error(err);
          document.querySelector(".loading").classList.remove("show");
        }
      }

      async function getPrayerTimes() {
        const city = document.getElementById("cityInput").value;
        if (!city) {
          alert("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©");
          return;
        }
        document.querySelector(".loading").classList.add("show");
        try {
          const res = await fetch(
            `https://api.aladhan.com/v1/timingsByCity?city=${city}&country=&method=2`,
          );
          const data = await res.json();
          const times = data.data.timings;
          const prayers = [
            { name: "Ø§Ù„ÙØ¬Ø±", time: times.Fajr, icon: "ğŸŒ…" },
            { name: "Ø§Ù„Ø´Ø±ÙˆÙ‚", time: times.Sunrise, icon: "â˜€ï¸" },
            { name: "Ø§Ù„Ø¸Ù‡Ø±", time: times.Dhuhr, icon: "ğŸŒ" },
            { name: "Ø§Ù„Ø¹ØµØ±", time: times.Asr, icon: "ğŸŒ¤" },
            { name: "Ø§Ù„Ù…ØºØ±Ø¨", time: times.Maghrib, icon: "ğŸŒ†" },
            { name: "Ø§Ù„Ø¹Ø´Ø§Ø¡", time: times.Isha, icon: "ğŸŒ™" },
          ];
          const container = document.getElementById("prayerTimes");
          container.innerHTML = "";
          prayers.forEach((p) => {
            const card = document.createElement("div");
            card.className = "prayer-card";
            card.innerHTML = `
                        <div class="prayer-icon">${p.icon}</div>
                        <div class="prayer-name">${p.name}</div>
                        <div class="prayer-time">${p.time}</div>
                    `;
            container.appendChild(card);
          });
          document.querySelector(".loading").classList.remove("show");
        } catch (err) {
          console.error(err);
          alert("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª");
          document.querySelector(".loading").classList.remove("show");
        }
      }

      function switchTab(tabName) {
        document
          .querySelectorAll(".tab-content")
          .forEach((t) => t.classList.remove("active"));
        document
          .querySelectorAll(".nav-tab")
          .forEach((b) => b.classList.remove("active"));
        document.getElementById(tabName).classList.add("active");
        event.target.classList.add("active");
        document
          .querySelectorAll(".section")
          .forEach((s) => s.classList.add("visible"));
      }

      function toggleTheme() {
        document.body.classList.toggle("dark-mode");
        document.querySelector(".theme-toggle").textContent =
          document.body.classList.contains("dark-mode") ? "â˜€ï¸" : "ğŸŒ™";
      }

      function countAdhkar(btn) {
        const countSpan = btn.querySelector(".count");
        let [current, total] = countSpan.textContent.split("/").map(Number);
        if (current < total) {
          current++;
          countSpan.textContent = `${current}/${total}`;
          if (current === total) {
            btn.style.background = "linear-gradient(135deg,#4caf50,#2e7d32)";
            btn.innerHTML = "âœ… Ù…ÙƒØªÙ…Ù„";
          }
        }
      }

      function changeTheme(el) {
        document
          .querySelectorAll(".color-option")
          .forEach((o) => o.classList.remove("selected"));
        el.classList.add("selected");
      }

      function changeFontSize() {
        const size = document.getElementById("fontSize").value;
        document
          .querySelectorAll(".ayah")
          .forEach((a) => (a.style.fontSize = size));
      }

      loadReciters();
      loadSurahs();
    </script>
  </body>
</html>
